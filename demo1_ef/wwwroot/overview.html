<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Datasink - Overview</title>
	<link rel="stylesheet" type="text/css" href="arena.css"/>
	<style>
		
	</style>
</head>
<body>

	<header>Overview</header>
	<hr>
	
	<div style="display: flex; gap: 12px;align-items: flex-start;">
		<table id="t1">
		</table>
		<table id="t2">
		</table>
		<table id="t3">
		</table>
		<table id="t4">
		</table>
		<table id="t5">
		</table>
		<table id="t6">
		</table>
		<table id="t7">
		</table>
		<table id="t8">
		</table>
	</div>


<script src='basic.js'></script>
<script src='add.js'></script>
<script>

var query = `query{
t1:projects{id name}
t2:quantities{id name}
t3:producers{id name}
t4:locations{id name}
t5:users{id email}
t6:memlocs{id}
t7:layouts{id name}
t8:devices{id name}
}`;


configs = {};
configs.t1 = {title:'Projects', columns: ['id', 'name']};
configs.t2 = {title:'Quantities', columns: ['id', 'name']};
configs.t3 = {title:'Producers', columns: ['id', 'name']};
configs.t4 = {title:'Locations', columns: ['id', 'name']};
configs.t5 = {title:'Users', columns: ['id', 'email']};
configs.t6 = {title:'Memlocs', columns: ['id']};
configs.t7 = {title:'Layouts', columns: ['id', 'name']};
configs.t8 = {title:'Devices', columns: ['id', 'name']};


var xhr = new XMLHttpRequest();
xhr.open("POST", window.location.origin + "/graphql", true);
xhr.setRequestHeader("Content-Type", "application/json");
xhr.onload = function ()
{
	var response = JSON.parse(xhr.response);
	if (response.data === null) { return; }
	build_tables(configs, response.data);
};
xhr.onerror = function ()
{
	console.log("XHR unknown error. Probobly Cross-Origin Request Blocked");
}
var data = JSON.stringify({ "query": query });
xhr.send(data);


</script>
</body>
</html>